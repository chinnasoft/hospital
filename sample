/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package schooltc;

import java.awt.Font;
import java.sql.*;
import javax.swing.JDialog;
import javax.swing.JOptionPane;
import javax.swing.table.DefaultTableModel;
import javax.swing.table.JTableHeader;

/**
 *
 * @author udhay
 */
public class Add_con extends javax.swing.JPanel {

    /**
     * Creates new form Add_con
     */
    Connection con = null;
    ResultSet res = null;
    PreparedStatement pst = null;
    DefaultTableModel md;
    int id = 0;

    public Add_con() {
        initComponents();
        setBounds(0, 0, 1200, 800);

        md = (DefaultTableModel) jTable1.getModel();
        getClear();
        getEF();
        getTableData();

        JTableHeader header = jTable1.getTableHeader();
        //header.setBackground(Color.BLACK);
        // header.setForeground(Color.CYAN);
        header.setFont(new Font("SansSerif", Font.ITALIC, 16));
        
        jTable1.getColumn("DID").setPreferredWidth(0);
        jTable1.getColumn("DID").setMinWidth(0);
        jTable1.getColumn("DID").setWidth(0);
        jTable1.getColumn("DID").setMaxWidth(0);
        
         jTextField1.setFocusable(true);
        jTextField1.requestFocusInWindow();
    }

    public void getClear() {


        jTextField1.setText("");
        jTextField4.setText("");
        jTextField2.setText("");
        jTextField3.setText("");
        jTextPane1.setText("");

        jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/time1.jpg")));
        jLabel2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/time1.jpg")));
        jLabel9.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/time1.jpg")));

    }

    public void getET() {

        jTextField4.setEnabled(true);
        jTextField2.setEnabled(true);
        jTextField3.setEnabled(true);
        jTextPane1.setEnabled(true);

    }

    public void getEF() {

        //jTextField4.setEnabled(false);
        jTextField2.setEnabled(false);
        jTextField3.setEnabled(false);
        jTextField4.setEnabled(false);
        jTextPane1.setEnabled(false);
        jButton9.setEnabled(false);
        jButton10.setEnabled(false);
        //jButton4.setEnabled(false);

    }

    public void getTableData() {
        try {
            Connection con2 = Connect.ConnectDB();
            String selectSQL1 = "select * from Contacts_tbl where status='1'";
            Statement st2 = con2.createStatement();
           
            ResultSet res = st2.executeQuery(selectSQL1);
            
            md.setRowCount(0);
            while (res.next()) {

                md.insertRow(md.getRowCount(), new Object[]{res.getString(2), res.getString(3), res.getString(4), res.getString(5), res.getString(6), res.getString(1)});

            }

            con2.close();


        } catch (Exception e) {
            JOptionPane.showMessageDialog(null, "The error is:11111" + e);
        }


    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        jLabel15 = new javax.swing.JLabel();
        jPanel1 = new javax.swing.JPanel();
        jTextField1 = new javax.swing.JTextField();
        jLabel7 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        jTextField2 = new javax.swing.JTextField();
        jTextField3 = new javax.swing.JTextField();
        jTextField4 = new javax.swing.JTextField();
        jButton4 = new javax.swing.JButton();
        jButton9 = new javax.swing.JButton();
        jButton10 = new javax.swing.JButton();
        jButton11 = new javax.swing.JButton();
        jScrollPane3 = new javax.swing.JScrollPane();
        jTextPane1 = new javax.swing.JTextPane();
        jLabel8 = new javax.swing.JLabel();
        jLabel1 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        jPanel3 = new javax.swing.JPanel();
        jScrollPane2 = new javax.swing.JScrollPane();
        jTable1 = new javax.swing.JTable();
        jLabel10 = new javax.swing.JLabel();
        jTextField5 = new javax.swing.JTextField();

        setBackground(new java.awt.Color(0, 0, 0));
        setLayout(null);

        jLabel15.setBackground(new java.awt.Color(255, 255, 255));
        jLabel15.setFont(new java.awt.Font("Franklin Gothic Demi Cond", 0, 24)); // NOI18N
        jLabel15.setForeground(new java.awt.Color(255, 255, 255));
        jLabel15.setText("Contact List");
        add(jLabel15);
        jLabel15.setBounds(20, 40, 340, 50);

        jPanel1.setBackground(new java.awt.Color(255, 255, 255));
        jPanel1.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 102, 102), 0), "Contact Information", 2, 2, new java.awt.Font("Verdana", 1, 18), java.awt.Color.darkGray)); // NOI18N
        jPanel1.setLayout(null);

        jTextField1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField1ActionPerformed(evt);
            }
        });
        jTextField1.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextField1KeyReleased(evt);
            }
        });
        jPanel1.add(jTextField1);
        jTextField1.setBounds(120, 70, 180, 30);

        jLabel7.setFont(new java.awt.Font("Verdana", 1, 14)); // NOI18N
        jLabel7.setText("Mail ID :");
        jPanel1.add(jLabel7);
        jLabel7.setBounds(30, 190, 119, 30);

        jLabel6.setFont(new java.awt.Font("Verdana", 1, 14)); // NOI18N
        jLabel6.setText("Address :");
        jPanel1.add(jLabel6);
        jLabel6.setBounds(30, 270, 100, 20);

        jLabel5.setFont(new java.awt.Font("Verdana", 1, 14)); // NOI18N
        jLabel5.setText("Mobile2 :");
        jPanel1.add(jLabel5);
        jLabel5.setBounds(30, 150, 131, 30);

        jLabel4.setFont(new java.awt.Font("Verdana", 1, 14)); // NOI18N
        jLabel4.setText("Mobile1 :");
        jPanel1.add(jLabel4);
        jLabel4.setBounds(30, 110, 131, 30);

        jLabel3.setFont(new java.awt.Font("Verdana", 1, 14)); // NOI18N
        jLabel3.setText("Name :");
        jPanel1.add(jLabel3);
        jLabel3.setBounds(30, 70, 90, 30);

        jTextField2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField2ActionPerformed(evt);
            }
        });
        jTextField2.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextField2KeyReleased(evt);
            }
            public void keyTyped(java.awt.event.KeyEvent evt) {
                jTextField2KeyTyped(evt);
            }
        });
        jPanel1.add(jTextField2);
        jTextField2.setBounds(120, 110, 180, 30);

        jTextField3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField3ActionPerformed(evt);
            }
        });
        jTextField3.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextField3KeyReleased(evt);
            }
            public void keyTyped(java.awt.event.KeyEvent evt) {
                jTextField3KeyTyped(evt);
            }
        });
        jPanel1.add(jTextField3);
        jTextField3.setBounds(120, 190, 180, 30);

        jTextField4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField4ActionPerformed(evt);
            }
        });
        jTextField4.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextField4KeyReleased(evt);
            }
        });
        jPanel1.add(jTextField4);
        jTextField4.setBounds(120, 150, 180, 30);

        jButton4.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        jButton4.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/ADD.png"))); // NOI18N
        jButton4.setToolTipText("Add a Dealer");
        jButton4.setBorder(null);
        jButton4.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                jButton4MouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                jButton4MouseExited(evt);
            }
        });
        jButton4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton4ActionPerformed(evt);
            }
        });
        jButton4.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jButton4KeyPressed(evt);
            }
        });
        jPanel1.add(jButton4);
        jButton4.setBounds(60, 380, 90, 40);

        jButton9.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        jButton9.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/UPDATE.png"))); // NOI18N
        jButton9.setToolTipText("Update a Dealer Details");
        jButton9.setBorder(null);
        jButton9.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jButton9MouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                jButton9MouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                jButton9MouseExited(evt);
            }
        });
        jButton9.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton9ActionPerformed(evt);
            }
        });
        jPanel1.add(jButton9);
        jButton9.setBounds(190, 380, 90, 40);

        jButton10.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        jButton10.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/DELETE.png"))); // NOI18N
        jButton10.setToolTipText("Delete a dealer");
        jButton10.setBorder(null);
        jButton10.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jButton10MouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                jButton10MouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                jButton10MouseExited(evt);
            }
        });
        jButton10.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton10ActionPerformed(evt);
            }
        });
        jPanel1.add(jButton10);
        jButton10.setBounds(60, 450, 90, 40);

        jButton11.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        jButton11.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/CLEAR.png"))); // NOI18N
        jButton11.setBorder(null);
        jButton11.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jButton11MouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                jButton11MouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                jButton11MouseExited(evt);
            }
        });
        jButton11.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton11ActionPerformed(evt);
            }
        });
        jPanel1.add(jButton11);
        jButton11.setBounds(190, 450, 90, 40);

        jTextPane1.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextPane1KeyReleased(evt);
            }
        });
        jScrollPane3.setViewportView(jTextPane1);

        jPanel1.add(jScrollPane3);
        jScrollPane3.setBounds(120, 240, 180, 90);

        jLabel8.setFont(new java.awt.Font("Verdana", 3, 14)); // NOI18N
        jLabel8.setForeground(new java.awt.Color(153, 0, 0));
        jPanel1.add(jLabel8);
        jLabel8.setBounds(10, 30, 330, 30);
        jPanel1.add(jLabel1);
        jLabel1.setBounds(300, 60, 60, 50);
        jPanel1.add(jLabel2);
        jLabel2.setBounds(300, 100, 60, 50);
        jPanel1.add(jLabel9);
        jLabel9.setBounds(300, 140, 60, 50);

        add(jPanel1);
        jPanel1.setBounds(20, 130, 360, 520);

        jPanel3.setBackground(new java.awt.Color(255, 255, 255));
        jPanel3.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(153, 204, 0), 0, true));
        jPanel3.setLayout(null);

        jTable1.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jTable1.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Name", "Mobile No1", "Mobile No2", "Mail ID", "Address", "DID"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        jTable1.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jTable1MouseClicked(evt);
            }
        });
        jScrollPane2.setViewportView(jTable1);

        jPanel3.add(jScrollPane2);
        jScrollPane2.setBounds(20, 20, 690, 480);

        add(jPanel3);
        jPanel3.setBounds(390, 130, 730, 520);

        jLabel10.setFont(new java.awt.Font("Verdana", 0, 14)); // NOI18N
        jLabel10.setForeground(new java.awt.Color(255, 255, 255));
        jLabel10.setText("Search ::");
        add(jLabel10);
        jLabel10.setBounds(530, 50, 110, 50);

        jTextField5.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextField5KeyReleased(evt);
            }
        });
        add(jTextField5);
        jTextField5.setBounds(600, 60, 270, 30);
    }// </editor-fold>                        

    private void jTextField1ActionPerformed(java.awt.event.ActionEvent evt) {                                            
        // TODO add your handling code here:
    }                                           

    private void jTextField1KeyReleased(java.awt.event.KeyEvent evt) {                                        
        // TODO add your handling code here:
//        if (jTextField1.getText().equals("")) {
//            jLabel8.setText("Enter First Company Name");
//            jTextField4.setEnabled(false);
//
//        } else {
//            jLabel8.setText("");
//            jTextField4.setEnabled(true);
        String jtf1 = jTextField1.getText();
            jTextField1.setText(jtf1.toUpperCase());

        if (jTextField1.getText().equals("")) {
            jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/error.png")));

        } else {
            jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/success.png")));
             jTextField2.setEnabled(true);
        }

//        }
   }                                       

    private void jTextField2ActionPerformed(java.awt.event.ActionEvent evt) {                                            
        // TODO add your handling code here:
    }                                           

    private void jTextField2KeyReleased(java.awt.event.KeyEvent evt) {                                        
        // TODO add your handling code here:

        if (jTextField2.getText().equals("")) {
            jLabel2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/error.png")));
            jButton4.setEnabled(false);
            // jButton9.setEnabled(false);

        } else {
            try {

                String jtf1 = jTextField2.getText().trim();
                char[] insertChars = jtf1.toCharArray();
                int fg = 0;
                
                if (insertChars.length == 10) {
                    for (int i = 0; i < insertChars.length; i++) {
                        //char c=insertChars.charAt(i);
                        if (!Character.isDigit(insertChars[i])) {
                            fg = 0;
                            break;
                        } else {
                            fg = 1;

                        }
                    }
                    if (fg == 0) {
                        jLabel2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/error.png")));
                        jButton9.setEnabled(false);

                    } else {
                        jLabel2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/success.png")));
                        jTextField3.setEnabled(true);
                        jTextPane1.setEnabled(true);
                        jButton4.setEnabled(true);
                        jTextField4.setEnabled(true);

                    }

                } else {
                    jLabel2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/error.png")));
                    jTextField3.setEnabled(false);
                    jTextPane1.setEnabled(false);
                    jButton4.setEnabled(false);
                    jTextField4.setEnabled(false);
                    // jButton9.setEnabled(false);
                }

            } catch (Exception e) {
                e.printStackTrace();

            }
        }


    }                                       

    private void jTextField2KeyTyped(java.awt.event.KeyEvent evt) {                                     
        // TODO add your handling code here:
    }                                    

    private void jTextField3ActionPerformed(java.awt.event.ActionEvent evt) {                                            
   }                                           

    private void jTextField3KeyReleased(java.awt.event.KeyEvent evt) {                                        
        // TODO add your handling code here:
//        if (jTextField3.getText().equals("")) {
//            jLabel8.setText("Enter Mail ID");
//            jTextPane1.setEnabled(false);
//
//        } else {
//            jLabel8.setText("");
//            jTextPane1.setEnabled(true);
//        }
  }                                       

    private void jTextField3KeyTyped(java.awt.event.KeyEvent evt) {                                     
        // TODO add your handling code here:
        //  if(jTextField2.getText().equals("")) {
//            jLabel8.setText("Enter First Customer Phone Number") ;
//            
//           
//        }
//
//        else {
//                 
//               
//            String jtf1=jTextField2.getText();
//          
//            System.out.println(jtf1.length());
//            if(EmailValidator.validate(jtf1)) {
//            
//                 jLabel8.setText("") ;
//            }
//            else {
//                jLabel8.setText("Enter Valid Email ID") ;
//                
//            }
//                 
//            } 
    }                                    

    private void jTextField4ActionPerformed(java.awt.event.ActionEvent evt) {                                            
        // TODO add your handling code here:
    }                                           

    private void jTextField4KeyReleased(java.awt.event.KeyEvent evt) {                                        
        // TODO add your handling code here:

        if (jTextField4.getText().equals("")) {
            jLabel9.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/time1.jpg")));
            // jButton4.setEnabled(false);
            // jButton9.setEnabled(false);

        } else {
            try {

                String jtf1 = jTextField4.getText().trim();
                char[] insertChars = jtf1.toCharArray();
                int fg = 0;
                
                if (insertChars.length == 10) {
                    for (int i = 0; i < insertChars.length; i++) {
                        //char c=insertChars.charAt(i);
                        if (!Character.isDigit(insertChars[i])) {
                            fg = 0;
                            break;
                        } else {
                            fg = 1;

                        }
                    }
                    if (fg == 0) {
                        jLabel9.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/error.png")));
                        // jButton9.setEnabled(false);

                    } else {
                        jLabel9.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/success.png")));
                        // jTextField3.setEnabled(true);
                        // jTextPane1.setEnabled(true);
                        //jButton4.setEnabled(true);

                    }

                } else {
                    jLabel9.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/error.png")));
                    // jTextField3.setEnabled(false);
                    // jTextPane1.setEnabled(false);
                    // jButton4.setEnabled(false);
                    // jButton9.setEnabled(false);
                }

            } catch (Exception e) {
                e.printStackTrace();

            }
        }


    }                                       

    private void jButton4MouseEntered(java.awt.event.MouseEvent evt) {                                      
        // TODO add your handling code here:
        jButton4.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/ADD.jpg"))); // NOI18N
    }                                     

    private void jButton4MouseExited(java.awt.event.MouseEvent evt) {                                     
        // TODO add your handling code here:
        jButton4.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/ADD.png"))); // NOI18N
    }                                    

    private void jButton4ActionPerformed(java.awt.event.ActionEvent evt) {                                         
        // TODO add your handling code here:

        if (jTextField1.getText().equals("") || jTextField2.getText().equals("")) {

            JOptionPane.showMessageDialog(null, "Enter all appropriate fields");

        } else {
           
            String dcmp = jTextField1.getText().toUpperCase().trim();
            String dname = jTextField4.getText().toUpperCase().trim();

            String dno = jTextField2.getText().trim();
            String did = jTextField3.getText().toUpperCase().trim();
            String dadd = jTextPane1.getText().toUpperCase().trim();

            try {
                con = Connect.ConnectDB();
                
                pst = con.prepareStatement("insert into Contacts_tbl(C_name,C_No1,C_No2,Mail_id,Address) values(?,?,?,?,?)", PreparedStatement.RETURN_GENERATED_KEYS);
                pst.setString(1, dcmp);
                pst.setString(2, dname);
                pst.setString(3, dno);
                pst.setString(4, did);
                pst.setString(5, dadd);

                pst.executeUpdate();
                

                ResultSet rs = pst.getGeneratedKeys();

                long key = 0;

                if (rs != null && rs.next()) {

                    key = rs.getLong(1);
                }


                JOptionPane.showMessageDialog(null, "Contact details saved successfully");

                md.insertRow(md.getRowCount(), new Object[]{dcmp, dname, dno, did, dadd, key});

                getClear();
                con.close();
                getEF();
            } catch (Exception e) {
                JOptionPane.showMessageDialog(null, "The error is:" + e);
            }

        }
    }                                        

    private void jButton4KeyPressed(java.awt.event.KeyEvent evt) {                                    
        // TODO add your handling code here:
    }                                   

    private void jButton9MouseClicked(java.awt.event.MouseEvent evt) {                                      
        // TODO add your handling code here:
    }                                     

    private void jButton9MouseEntered(java.awt.event.MouseEvent evt) {                                      
        // TODO add your handling code here:
        jButton9.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/UPDATE.jpg"))); // NOI18N
    }                                     

    private void jButton9MouseExited(java.awt.event.MouseEvent evt) {                                     
        // TODO add your handling code here:
        jButton9.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/UPDATE.png"))); // NOI18N
    }                                    

    private void jButton9ActionPerformed(java.awt.event.ActionEvent evt) {                                         
        // TODO add your handling code here:


        md.setValueAt(jTextField1.getText(), jTable1.getSelectedRow(), 0);
        md.setValueAt(jTextField4.getText(), jTable1.getSelectedRow(), 1);
        md.setValueAt(jTextField2.getText(), jTable1.getSelectedRow(), 2);
        md.setValueAt(jTextField3.getText(), jTable1.getSelectedRow(), 3);
        md.setValueAt(jTextPane1.getText(), jTable1.getSelectedRow(), 4);

        if (jTextField1.getText().equals("") || jTextField2.getText().equals("")) {

            JOptionPane.showMessageDialog(null, "Enter all appropriate fields");

        } else {
            
            String dcmp = jTextField1.getText().toUpperCase();
            String dname = jTextField4.getText().toUpperCase();
            String dno = (jTextField2.getText()).toString();
            String did = jTextField3.getText().toUpperCase();
            String dadd = jTextPane1.getText().toUpperCase();


            try {
                Connection con = Connect.ConnectDB();
                
                PreparedStatement pst = con.prepareStatement("UPDATE Contacts_tbl SET C_name=? ,C_No1=? ,C_No2=? ,Mail_id=? ,Address=? where Cid='" + id + "'");
                pst.setString(1, dcmp);
                pst.setString(2, dname);

                pst.setString(3, dno);
                pst.setString(4, did);

                pst.setString(5, dadd);


                pst.executeUpdate();

                JOptionPane.showMessageDialog(null, "Contact details updated successfully");

                pst.close();

                con.close();

                getClear();
                getEF();

            } catch (Exception e) {
                JOptionPane.showMessageDialog(null, "The error is:" + e);
            }



        }

    }                                        

    private void jButton10MouseClicked(java.awt.event.MouseEvent evt) {                                       
        // TODO add your handling code here:
    }                                      

    private void jButton10MouseEntered(java.awt.event.MouseEvent evt) {                                       
        // TODO add your handling code here:
        jButton10.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/DELETE.jpg"))); // NOI18N
    }                                      

    private void jButton10MouseExited(java.awt.event.MouseEvent evt) {                                      
        // TODO add your handling code here:
        jButton10.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/DELETE.png"))); // NOI18N
    }                                     

    private void jButton10ActionPerformed(java.awt.event.ActionEvent evt) {                                          
        // TODO add your handling code here:


        JDialog.setDefaultLookAndFeelDecorated(true);
        int response = JOptionPane.showConfirmDialog(null, "Do you want to Delete A Contact Information...?", "Confirm",
                JOptionPane.YES_NO_OPTION, JOptionPane.QUESTION_MESSAGE);
        if (response == JOptionPane.NO_OPTION) {

            getClear();


        } else if (response == JOptionPane.YES_OPTION) {

            try {
                Connection con3 = Connect.ConnectDB();

//                Statement stmt = conn.createStatement();
//                String sql = "delete from dealer_tbl where Did='" + id + "'";
//                stmt.executeUpdate(sql);
                java.sql.PreparedStatement pst1 = con3.prepareStatement("UPDATE Contacts_tbl SET status=? where Cid='" + id + "'");
                pst1.setString(1, "0");

                pst1.executeUpdate();


                getClear();
                getEF();

                JOptionPane.showMessageDialog(null, "Data deleted sucessfully");
                md.removeRow(jTable1.getSelectedRow());

            } catch (SQLException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (Exception e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } finally {
            }


        } else if (response == JOptionPane.CLOSED_OPTION) {
            getClear();

        }


    }                                         

    private void jButton11MouseClicked(java.awt.event.MouseEvent evt) {                                       
        // TODO add your handling code here:
    }                                      

    private void jButton11MouseEntered(java.awt.event.MouseEvent evt) {                                       
        // TODO add your handling code here:
        jButton11.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/CLEAR.jpg"))); // NOI18N
    }                                      

    private void jButton11MouseExited(java.awt.event.MouseEvent evt) {                                      
        // TODO add your handling code here:
        jButton11.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/CLEAR.png"))); // NOI18N
    }                                     

    private void jButton11ActionPerformed(java.awt.event.ActionEvent evt) {                                          
        // TODO add your handling code here:
        getClear();
        jButton4.setEnabled(true);
        getEF();
    }                                         

    private void jTextPane1KeyReleased(java.awt.event.KeyEvent evt) {                                       
        // TODO add your handling code here:
        String jtf1 = jTextPane1.getText();
            jTextPane1.setText(jtf1.toUpperCase());

        if (jTextPane1.getText().equals("")) {
            jLabel8.setText("Enter Address");
            // jButton4.setEnabled(false);

        } else {
            jLabel8.setText("");
            jButton4.setEnabled(true);
        }

    }                                      

    private void jTable1MouseClicked(java.awt.event.MouseEvent evt) {                                     
        // TODO add your handling code here:

        jTextField1.setText(String.valueOf(md.getValueAt(jTable1.getSelectedRow(), 0)));
        jTextField4.setText(String.valueOf(md.getValueAt(jTable1.getSelectedRow(), 1)));
        jTextField2.setText(String.valueOf(md.getValueAt(jTable1.getSelectedRow(), 2)));
        jTextField3.setText(String.valueOf(md.getValueAt(jTable1.getSelectedRow(), 3)));
        jTextPane1.setText(String.valueOf(md.getValueAt(jTable1.getSelectedRow(), 4)));

        id = Integer.parseInt(String.valueOf(md.getValueAt(jTable1.getSelectedRow(), 5)));
//
//        try {
//            Connection con = Connect.ConnectDB();
//            System.out.println("connected");
//            String selectSQL = "SELECT Did FROM dealer_tbl where D_cmp='" + jTextField1.getText() + "' and D_name='" + jTextField4.getText() + "'";
//            Statement st = con.createStatement();
//            System.out.println("connected22");
//            ResultSet res = st.executeQuery(selectSQL);
//            System.out.println("executed");
//            while (res.next()) {
//                id = res.getInt("Did");
//                System.out.println(id);
//          }
//
//            System.out.println(id);
//
        jButton4.setEnabled(false);
//            con.close();
        jButton9.setEnabled(true);
        jButton10.setEnabled(true);
        getET();
//        } catch (Exception e) {
//            JOptionPane.showMessageDialog(null, "The error is:" + e);
//        }
    }                                    

    private void jTextField5KeyReleased(java.awt.event.KeyEvent evt) {                                        
        // TODO add your handling code here:


        if (jTextField5.getText().equals("")) {
            //md1.setRowCount(0);
            getTableData();

        } else {

            String cn = jTextField5.getText();
            try {
                Connection con2 = Connect.ConnectDB();
                String selectSQL1 = "select * from Contacts_tbl where C_name like '%" + cn + "%' or C_No1 like '%" + cn + "%' or C_No2 like '%" + cn + "%' ";
                Statement st2 = con2.createStatement();
                
                ResultSet res = st2.executeQuery(selectSQL1);
                
                md.setRowCount(0);

                while (res.next()) {

                    md.insertRow(md.getRowCount(), new Object[]{res.getString(2), res.getString(3), res.getString(4), res.getString(5), res.getString(6), res.getString(1)});

                }

                con2.close();

            } catch (Exception e) {
                // JOptionPane.showMessageDialog(null, "The error is:11111" + e);\
                e.printStackTrace();

            }
        }



    }                                       
    // Variables declaration - do not modify                     
    private javax.swing.JButton jButton10;
    private javax.swing.JButton jButton11;
    private javax.swing.JButton jButton4;
    private javax.swing.JButton jButton9;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JTable jTable1;
    private javax.swing.JTextField jTextField1;
    private javax.swing.JTextField jTextField2;
    private javax.swing.JTextField jTextField3;
    private javax.swing.JTextField jTextField4;
    private javax.swing.JTextField jTextField5;
    private javax.swing.JTextPane jTextPane1;
    // End of variables declaration                   
}
